try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0b444baa-7bfe-4cf5-a543-145de1dec696",e._sentryDebugIdIdentifier="sentry-dbid-0b444baa-7bfe-4cf5-a543-145de1dec696")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150,991],{18955:(e,t,s)=>{"use strict";s.d(t,{c3:()=>r});var a=s(49436);function n(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let r=n(0,a.c3);n(0,a.kc)},39391:(e,t,s)=>{Promise.resolve().then(s.bind(s,3809)),Promise.resolve().then(s.t.bind(s,52619,23)),Promise.resolve().then(s.t.bind(s,81356,23)),Promise.resolve().then(s.bind(s,96946)),Promise.resolve().then(s.bind(s,90292))},90292:(e,t,s)=>{"use strict";s.d(t,{Faq:()=>l});var a=s(95155),n=s(18955),r=s(12115);let i=e=>{let[t,s]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"border-b border-gray-200 last:border-b-0","data-sentry-component":"FaqItemCom","data-sentry-source-file":"Faq.tsx",children:[(0,a.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between px-6 py-5 text-left transition-colors hover:bg-gray-50",onClick:()=>s(!t),children:[(0,a.jsx)("span",{className:"pr-4 font-semibold text-gray-900",children:e.item.question}),(0,a.jsx)("svg",{className:"size-5 shrink-0 text-indigo-600 transition-transform duration-200 ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","data-sentry-element":"svg","data-sentry-source-file":"Faq.tsx",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7","data-sentry-element":"path","data-sentry-source-file":"Faq.tsx"})})]}),(0,a.jsx)("div",{className:"overflow-hidden transition-all duration-300 ease-in-out ".concat(t?"max-h-96 opacity-100":"max-h-0 opacity-0"),children:(0,a.jsx)("div",{className:"px-6 pb-5 pt-2",children:(0,a.jsx)("div",{className:"whitespace-pre-line leading-relaxed text-gray-600",children:e.item.answer})})})]})},l=e=>{let{namespace:t="X"}=e,s=(0,n.c3)(t),r=[{question:s("faq1.question"),answer:s("faq1.answer")},{question:s("faq2.question"),answer:s("faq2.answer")},{question:s("faq3.question"),answer:s("faq3.answer")},{question:s("faq4.question"),answer:s("faq4.answer")}];return(0,a.jsx)("div",{className:"bg-white","data-sentry-component":"Faq","data-sentry-source-file":"Faq.tsx",children:(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:r.map((e,t)=>(0,a.jsx)(i,{item:e},"".concat(e.question,"-").concat(t)))})})}},96946:(e,t,s)=>{"use strict";s.d(t,{AnalysisButton:()=>l});var a=s(95155),n=s(18955),r=s(12115);let i=/^(?:https?:\/\/)?(?:www\.)?(?:x\.com|twitter\.com)\/\w+\/status\/\d+$/;function l(){let e=(0,n.c3)("X"),[t,s]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),p=e=>i.test(e),x=e=>["jpg","jpeg","png","gif"].includes(e.streams.__default__.container.split(".").pop()||""),f=e=>["mp4","webm","mkv"].includes(e.streams.__default__.container.split(".").pop()||""),h=e=>x(e)?"image":f(e)?"video":"other",b=e=>{let t=e.replaceAll(/Infinity/g,"null").replaceAll(/NaN/g,"null").replaceAll(/undefined/g,"null").trim().split(/\n(?=\{)/),s=[];for(let e of t)try{let t=JSON.parse(e);s.push(t)}catch(e){console.error("JSON 解析错误:",e)}return s},g=async()=>{if(c(""),!t.trim())return void c(e("validation_error1"));if(!p(t))return void c(e("validation_error2"));o(!0);try{let e=await fetch("/api/x",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})}),{data:s}=await e.json(),a=b(s);m(a)}catch(e){console.error("下载错误:",e),c("下载失败，请稍后重试")}finally{o(!1)}};return(0,a.jsxs)("div",{className:"mx-auto mb-8 max-w-xs sm:max-w-md md:max-w-lg lg:max-w-2xl","data-sentry-component":"AnalysisButton","data-sentry-source-file":"AnalysisButton.tsx",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 overflow-hidden rounded-lg bg-white/10 p-2 backdrop-blur-md sm:flex-row sm:p-3",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("input",{value:t,onChange:e=>{s(e.target.value),c("")},type:"text",name:"videoUrl",placeholder:e("download_button_tip"),className:"size-full rounded-lg px-4 py-3 text-sm text-gray-800\n              outline-none transition-colors duration-200\n              placeholder:text-gray-500 focus:ring-2 \n              focus:ring-indigo-500\n              ".concat(d?"border border-red-300 bg-red-50":"bg-white/90","\n              sm:text-base")})}),(0,a.jsx)("button",{type:"button",onClick:g,disabled:l,className:"mt-2 rounded-lg bg-[#E21E3C] px-6 py-3 font-semibold text-white transition hover:bg-[#c91834]   disabled:opacity-50 sm:mt-0",children:l?e("analyzing"):e("analysis")})]}),d&&(0,a.jsx)("div",{className:"mt-2 text-left text-sm text-red-500 sm:absolute",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"size-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d]})}),(0,a.jsx)("div",{className:"mt-4 space-y-4",children:u.map(t=>(0,a.jsxs)("div",{className:"mb-4 overflow-hidden rounded-lg bg-white p-4 shadow",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"max-w-[70%] truncate text-sm text-gray-700",title:t.title,children:t.title}),(0,a.jsx)("a",{href:t.streams.__default__.src[0],target:"_blank",rel:"noopener noreferrer",className:"rounded-md bg-blue-500 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-600",download:!0,children:e("download")})]}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-lg",children:["video"===h(t)&&(0,a.jsxs)("video",{controls:!0,className:"h-auto w-full",preload:"metadata",children:[(0,a.jsx)("track",{kind:"captions",label:"No captions"}),(0,a.jsx)("source",{src:t.streams.__default__.src[0],type:"video/mp4"})]}),"image"===h(t)&&(0,a.jsx)("img",{src:t.streams.__default__.src[0]||"",alt:t.title,className:"h-auto w-full object-cover transition hover:opacity-90",width:800,height:600,loading:"lazy"})]})]},t.title))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[809,619,356,186,850,441,86,358],()=>t(39391)),_N_E=e.O()}]);