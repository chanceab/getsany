try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="0058d52a-5e42-42fa-9b25-aeb29650510b",e._sentryDebugIdIdentifier="sentry-dbid-0058d52a-5e42-42fa-9b25-aeb29650510b")}catch(e){}(()=>{var e={};e.id=323,e.ids=[323],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3690:(e,r,t)=>{"use strict";e.exports=t(44870)},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},41692:e=>{"use strict";e.exports=require("node:tls")},44708:e=>{"use strict";e.exports=require("node:https")},44725:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=44725,e.exports=r},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:e=>{"use strict";e.exports=require("node:os")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},86592:e=>{"use strict";e.exports=require("node:inspector")},94412:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>j,routeModule:()=>_,serverHooks:()=>S,workAsyncStorage:()=>P,workUnitAsyncStorage:()=>A});var s={};t.r(s),t.d(s,{DELETE:()=>b,GET:()=>w,HEAD:()=>T,OPTIONS:()=>E,PATCH:()=>k,POST:()=>m,PUT:()=>v});var o=t(3690),i=t(56947),u=t(75250),n=t(63033),p=t(31421),a=t(57975),c=t.n(a),d=t(62187),x=t(7688);let l=c().promisify(p.exec),q=/^(?:https?:\/\/)?(?:www\.)?(?:x\.com|twitter\.com)\/\w+\/status\/\d+$/;async function y(e){try{let{url:r}=await e.json();if(!r)return d.NextResponse.json({error:"请提供视频链接"},{status:400});if(!q.test(r))return d.NextResponse.json({error:"请提供有效的 X 平台视频链接"},{status:500});let{stdout:t}=await l(`you-get --json ${r}`);return d.NextResponse.json({data:t},{status:200})}catch(e){return console.error("下载处理错误:",e),d.NextResponse.json({error:"视频下载失败，请稍后重试"},{status:500})}}let h={...n},f="workUnitAsyncStorage"in h?h.workUnitAsyncStorage:"requestAsyncStorage"in h?h.requestAsyncStorage:void 0;function g(e,r){return"phase-production-build"===process.env.NEXT_PHASE||"function"!=typeof e?e:new Proxy(e,{apply:(e,t,s)=>{let o;try{let e=f?.getStore();o=e?.headers}catch(e){}return x.wrapRouteHandlerWithSentry(e,{method:r,parameterizedRoute:"/[locale]/(marketing)/api/x",headers:o}).apply(t,s)}})}let w=g(void 0,"GET"),m=g(y,"POST"),v=g(void 0,"PUT"),k=g(void 0,"PATCH"),b=g(void 0,"DELETE"),T=g(void 0,"HEAD"),E=g(void 0,"OPTIONS"),_=new o.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/[locale]/(marketing)/api/x/route",pathname:"/[locale]/api/x",filename:"route",bundlePath:"app/[locale]/(marketing)/api/x/route"},resolvedPagePath:"D:\\Desktop\\getsany\\src\\app\\[locale]\\(marketing)\\api\\x\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:P,workUnitAsyncStorage:A,serverHooks:S}=_;function j(){return(0,u.patchFetch)({workAsyncStorage:P,workUnitAsyncStorage:A})}},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[391,688,187],()=>t(94412));module.exports=s})();
//# sourceMappingURL=route.js.map